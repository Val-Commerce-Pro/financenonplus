
<!-- jquery 3.3.1 - Don't add defer tag!!! -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
{{ 'consors-product.css' | asset_url | stylesheet_tag }}
<script defer src="{{ 'calculator.js' | asset_url }}"></script>
<script defer src="{{ 'consors-product.js' | asset_url }}"></script>
<link rel="stylesheet" href="{{ 'calc.css' | asset_url }}">

<style>
  #modal {
    background-color: #f5f5f5;
    padding: 30px;
    border-radius: 5px;
  }

  #modal-container {
    height: 100%;
    max-width: 400px;
    position: fixed;
    top: 0;
    right: 0;
    background-color: #f1f1f1;
    overflow-x: hidden;
    transition: 0.5s;
    z-index: 11;
}
 #closeCalculator {
  position: absolute;
  top: 10px;
  left: 10px;
  cursor: pointer;
  transition: filter 0.3s;
}

.inline-calc-overlay {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 10;
}
</style>
<div hidden id="cf-product-id" class="HiddenInfo">{{ product.variants[0].id }}</div>
<div hidden id="cf-secure-url" class="HiddenInfo">{{ shop.secure_url }}</div>
<div hidden id="cf-product-price" class="albisHiddenInfo">{{ product.price }}</div>
<div hidden id="cf-shop-domain" class="HiddenInfo">{{ shop.domain }}</div>

<div class="d-flex gap">
  <div class="separator">- oder -</div>
  <a id="addProductAndRedirect" class="button full-width" href="https://{{ shop.permanent_domain }}/pages/consors-efi">ðŸ‘‰ Jetzt Finanzieren</a>
  <div class="product--financing">
    <img class="financing--logo" src="{{'Consors_Finanz_Logo.png' | asset_url}}" alt="Consors Finanz Logo" width="200" height="45"><br>
    Finanzieren Sie bequem mit Consors Finanz.<br>
    <p id="additional-calculator-text">Weitere Informationen finden sie 
    <a class="openModalConsors" id="openCalculator">hierAAAA</a></p>
  </div>
</div>
<div class="inline-calc-overlay"></div>
  <div id="modal-container" class="drawer" hidden>
    <div id="modal"> 
      <button id="closeCalculator" class="calculator__close" type="button" aria-label="Close">
        x
      </button>
      <!-- calculator container -->
      <div id="calculator" ></div>
    </div>
  </div>


<script>
  // Get the modal
  var calculatorModal = document.getElementById("modal-container");
  
    // Get the button that opens the modal
  var btn = document.getElementById("openCalculator");
  
  // Get the button that opens the modal
  var closeCalculator = document.getElementById("closeCalculator");
  
  // When the user clicks on the button, open the modal
  btn.onclick = function() {
    calculatorModal.hidden = false
    {% comment %} calculatorModal.style.display = "block"; {% endcomment %}
  }
  
  closeCalculator.onclick = function() {
    calculatorModal.hidden = true
  }
  </script>
{% schema %}
{
  "name": "Product Consors Finance",
  "target": "section"
}
{% endschema %}
